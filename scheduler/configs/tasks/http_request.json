{
  "default": {
    "name": "http_request",
    "phases": ["verification", "regular"],
    "url_template": "",
    "http_method": "get",
    "request_type": "http",
    "provider_types": ["*"],
    "blockchains": ["*"],
    "networks": ["*"],
    "request_timeout": 1000,
    "headers": {},
    "repeat_number": 0,
    "interval": 1000,
    "body": "",
    "response" : {
      "response_type" : "text"
    },
    "thresholds": {

    }
  },
  "tasks": [
    {
      "name": "RoundTripTime",
      "phases": ["verification"],
      "repeat_number": 5,
      "interval": 1000,
      "url_template": "https://{{provider.ip}}/_rtt"
    },
    {
      "name": "RoundTripTime",
      "phases": ["regular"],
      "repeat_number": 1000000000,
      "interval": 5000,
      "url_template": "https://{{provider.ip}}/_rtt"
    },
    {
      "name": "LatestBlock",
      "phases": ["verification"],
      "blockchains": ["eth"],
      "repeat_number": 0,
      "interval": 0,
      "type": "rpc",
      "http_method": "post",
      "url_template": "https://{{provider.ip}}/",
      "provider_types": ["node"],
      "request_timeout": 5000,
      "headers": {
        "content-type":"application/json",
        "X-Api-Key": "{{provider.appKey}}",
        "Host": "{{provider.id}}.{{provider.type}}.mbr.{{domain}}"
      },
      "body": {
        "jsonrpc": "2.0",
        "method": "eth_getBlockByNumber",
        "params": ["latest",true],
        "id": 1
      },
      "response" : {
        "response_type" : "json",
        "values" : {
          "hash": ["result", "hash"],
          "number": ["result", "number"],
          "timestamp": ["result", "timestamp"]
        }
      }
    },
    {
      "name": "LatestBlock",
      "phases": ["regular"],
      "blockchains": ["eth"],
      "repeat_number": 1000000000,
      "interval": 30000,
      "type": "rpc",
      "http_method": "post",
      "url_template": "https://{{provider.ip}}/",
      "provider_types": ["node"],
      "request_timeout": 5000,
      "headers": {
        "content-type":"application/json",
        "X-Api-Key": "{{provider.appKey}}",
        "Host": "{{provider.id}}.{{provider.type}}.mbr.{{domain}}"
      },
      "body": {
        "jsonrpc": "2.0",
        "method": "eth_getBlockByNumber",
        "params": ["latest",true],
        "id": 1
      },
      "response" : {
        "response_type" : "json",
        "values" : {
          "hash": ["result", "hash"],
          "number": ["result", "number"],
          "timestamp": ["result", "timestamp"]
        }
      },
      "thresholds" : {
        "late_duration_ms":  1200000
      }
    },
    {
      "name": "LatestBlock",
      "phases": ["verification"],
      "blockchains": ["dot"],
      "repeat_number": 0,
      "interval": 0,
      "type": "rpc",
      "http_method": "post",
      "url_template": "https://{{provider.ip}}/",
      "provider_types": ["node"],
      "request_timeout": 5000,
      "headers": {
        "content-type":"application/json",
        "X-Api-Key": "{{provider.appKey}}",
        "Host": "{{provider.id}}.{{provider.type}}.mbr.{{domain}}"
      },
      "body": {
        "jsonrpc": "2.0",
        "method": "chain_getBlock",
        "params": [],
        "id": 1
      },
      "response" : {
        "response_type" : "json",
        "values" : {
          "parent_hash": ["result", "block","header","parentHash"],
          "number": ["result", "block","header","number"]
        }
      }
    },
    {
      "name": "LatestBlock",
      "phases": ["regular"],
      "blockchains": ["dot"],
      "repeat_number": 1000000000,
      "interval": 30000,
      "type": "rpc",
      "http_method": "post",
      "url_template": "https://{{provider.ip}}/",
      "provider_types": ["node"],
      "request_timeout": 5000,
      "headers": {
        "content-type":"application/json",
        "X-Api-Key": "{{provider.appKey}}",
        "Host": "{{provider.id}}.{{provider.type}}.mbr.{{domain}}"
      },
      "body": {
        "jsonrpc": "2.0",
        "method": "chain_getBlock",
        "params": [],
        "id": 1
      },
      "response" : {
        "response_type" : "json",
        "values" : {
          "parent_hash": ["result", "block","header","parentHash"],
          "number": ["result", "block","header","number"]
        }
      },
      "thresholds": {
        "max_block_missing": 10
      }
    }
  ]
}
